# W-20 Dev Progress (2026-02-17 21:35 KST)

## Selected P0 기능 태스크
1. **P0-TODAY-EDIT-LINK-05**: Today 화면의 편집 액션을 DailyItem ID가 아닌 원본 Task ID로 연결해 Manage 편집 진입 정상화
2. **P0-HISTORY-DEFERRED-SUMMARY-06**: History 화면에 미룸(DEFERRED) 집계(오늘/주간) 노출

## 실제 기능 구현
- Today 편집 플로우 ID 정합성 복구
  - `TodayTaskRow`에 `sourceTaskId` 추가
  - `DailyItemDao.observeTodayTasks` 쿼리에서 `di.taskId AS sourceTaskId` 조회
  - `TaskItemUi`에 `sourceTaskId` 필드 추가
  - `TodayViewModel` 매핑에서 `sourceTaskId` 전달
  - `TodayScreen`의 `onEdit`를 `dailyItemId` 기반 호출에서 `sourceTaskId` 기반 호출로 변경
- History 미룸 집계 추가
  - `ObserveHistorySummaryUseCase`에서 오늘/주간 `DEFERRED` 카운트 수집
  - `HistorySummary`, `HistoryUiState.Ready`에 `todayDeferredCount`, `weeklyDeferredCount` 확장
  - `HistoryViewModel` 상태 매핑 확장
  - `HistoryScreen` 텍스트에 완료/미룸/총계 동시 노출

## 최소 검증 테스트
- 실행: `./gradlew.bat :app:compileDebugKotlin`
- 결과: **BUILD SUCCESSFUL**
- 비고: `ObserveHistorySummaryUseCase`에서 vararg `combine` 사용으로 unchecked cast 경고 1건(동작 영향 없음)

## 변경 파일(핵심)
- `app/src/main/java/com/dayquest/app/data/local/projection/TodayTaskRow.kt`
- `app/src/main/java/com/dayquest/app/data/local/dao/DailyItemDao.kt`
- `app/src/main/java/com/dayquest/app/ui/model/TaskModels.kt`
- `app/src/main/java/com/dayquest/app/ui/screen/TodayViewModel.kt`
- `app/src/main/java/com/dayquest/app/ui/screen/TodayScreen.kt`
- `app/src/main/java/com/dayquest/app/domain/usecase/history/ObserveHistorySummaryUseCase.kt`
- `app/src/main/java/com/dayquest/app/ui/screen/HistoryViewModel.kt`
- `app/src/main/java/com/dayquest/app/ui/screen/HistoryScreen.kt`
