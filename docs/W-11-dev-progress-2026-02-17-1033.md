# W-11 Dev Progress (2026-02-17 10:33 KST)

## 이번 작업 (P-03)
- TaskManage 화면을 로컬 임시 상태 기반 로직에서 실제 Repository/UseCase 기반으로 연결했습니다.
- Room `TaskDao`를 감싸는 `TaskRepository` 계층을 추가하고,
  Task 목록 조회/저장/삭제 유스케이스를 도입했습니다.
- `TaskManageViewModel`을 추가해 UI 이벤트(등록/수정/삭제/토글)를 처리하고,
  `TaskManageScreen`은 ViewModel 상태를 구독하도록 전환했습니다.

## 변경 파일
- `app/src/main/java/com/dayquest/app/domain/repository/TaskRepository.kt`
- `app/src/main/java/com/dayquest/app/data/repository/TaskRepositoryImpl.kt`
- `app/src/main/java/com/dayquest/app/domain/usecase/task/ObserveManageTasksUseCase.kt`
- `app/src/main/java/com/dayquest/app/domain/usecase/task/SaveManageTaskUseCase.kt`
- `app/src/main/java/com/dayquest/app/domain/usecase/task/DeleteManageTaskUseCase.kt`
- `app/src/main/java/com/dayquest/app/di/TaskModule.kt`
- `app/src/main/java/com/dayquest/app/ui/screen/TaskManageViewModel.kt`
- `app/src/main/java/com/dayquest/app/ui/screen/TaskManageScreen.kt`
- `app/src/main/java/com/dayquest/app/MainActivity.kt`
- `app/build.gradle.kts`
- `app/src/test/java/com/dayquest/app/domain/usecase/task/SaveManageTaskUseCaseTest.kt`

## 핵심 diff 요약
- `TaskManageScreen`
  - `TaskManageLogic` 직접 호출 제거
  - `hiltViewModel()` + `StateFlow` 구독으로 상태 렌더링
  - 폼 입력/등록/수정/삭제를 ViewModel 이벤트로 위임
- `TaskManageViewModel` 신설
  - `ObserveManageTasksUseCase`를 collect 하여 `TaskManageUiState.Ready` 구성
  - `SaveManageTaskUseCase`, `DeleteManageTaskUseCase`로 DB 반영
  - 기존 UI의 `toggle done` 상호작용은 화면 내 피드백용으로 유지
- DI/Hilt
  - `TaskModule`에서 `TaskRepository` 바인딩
  - `MainActivity`에 `@AndroidEntryPoint` 적용
  - `hilt-navigation-compose` 의존성 추가
- 테스트
  - `SaveManageTaskUseCaseTest` 추가
    - 신규 등록(taskId=null) 시 insert 검증
    - 기존 taskId 수정 시 update 검증

## 테스트 실행
1) `./gradlew.bat :app:testDebugUnitTest --tests "com.dayquest.app.domain.usecase.task.SaveManageTaskUseCaseTest"`
- 결과: `BUILD SUCCESSFUL`

2) `./gradlew.bat :app:testDebugUnitTest --tests "com.dayquest.app.TaskManageLogicTest"`
- 결과: `BUILD SUCCESSFUL`

## 메모
- compileSdk 35 관련 AGP 경고는 기존 환경 경고이며 테스트 실패와 무관합니다.
- 릴리즈 체크(assembleRelease / bundleRelease 등)는 수행하지 않았습니다.
